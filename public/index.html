<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!DOCTYPE html>
    <html lang="en">
      <head>
        <meta charset="utf-8">
        <title>Group Chat App with Vue.js and Pusher</title>
        <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="style.css">
        <style>
          .is-showGroupInfo {
            background-color: yellow;
          }
          .is-collapsed {
  
  li:nth-child(n+5) {
    display: none;
  }
}
        </style>
      </head>
      <body>
        <div class="container" id="app">
          <div class="row">
            <div class="col-md-6 col-md-offset-3">
              <div class="panel panel-info">
                <!-- panel-heading -->
                <div class="chat-header" v-on:click="isHidden = !isHidden"> 
                  
                  <div class="group-title">Chat Room </div>   
                  <div class="group-members">
                   
                   <span class="badge" style="padding-left: 10px;">{{ members.myID }}</span>
                   <span>{{ members.count }} Participants<br><span><span style="font-size: 10px; padding-left: 2em;">Tap for Participants</span>
                   
                    <br>
                  </div>
                 
                  <br>                                           
                  <br>
                
                </div>
                <div v-if="isHidden" class="sidebar">
                    <div class="sidebar">
                      <div class="sidebar-title">Members ({{ members.count }})</div>
                      <li v-for="(value, key) in members.members">
                        {{ key }}
                      </li>
                    </div>
                  </div>   
                <div>
                   
                    <span>
                      
                    </span>
                  </div>
    <div class="panel-body" style="height: 100%; background-color: #0E1027; ">
<!--
    <div v-if="fresh">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="What's your Unpopular Opinion?" v-model="opinion" @keyup.enter="startChat">
        </div>
        <button class="btn btn-primary" @click="startChat">CREATE SPACE</button>
    </div>

    <div v-else>
    
      <span>{{ message.opinion }}</span>
    -->
      <div v-if="joined">
        <em><span v-text="status"></span></em>
        <ul class="chat">
          <li class="left clearfix" v-for="message in messages">
            <div class="chat-body clearfix chat-body-main">
              <div class="header">
                <strong class="primary-font">
                  {{ message.username }}
                </strong>
              </div>
              <p>
                {{ message.message }}
              </p>
            </div>
          </li>
        </ul>
        <div class="panel-footer">
          <div class="input-group input-borders" style="padding-left: 20px; padding-right: 20px;">
            <!-- btn-input -->
            <input id="rcorners" type="text" name="message" class="form-control input-sm" placeholder="Type your message here..." v-model="newMessage" @keyup.enter="sendMessage">
            
            <span class="input-group-btn">
              <button class="btn btn-primary btn-sm" id="btn-chat" @click="sendMessage" style="background-color: #0E1027; border: none;"><i class="fa fa-envelope fa-2x"></i></button>
            </span>
          </div>
        </div>
      </div>
      <div v-else>
        <div class="form-group">

          <input type="text" class="form-control" placeholder="enter your username to join chat" v-model="username" @keyup.enter="joinChat">
        </div>
        <button class="btn btn-primary" @click="joinChat">JOIN</button>
      </div>
   <!-- </div> -->
    </div>
              </div>
            </div>
          </div>
        </div>
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
        <script src="https://unpkg.com/vue"></script>
        <script src="//js.pusher.com/4.0/pusher.min.js"></script>
        <script src="./app.js"></script>
      </body>
    </html>